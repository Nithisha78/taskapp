<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Dashboard</title>

    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: #ffffff;
            color: #111827;
        }

        main {
            max-width: 1100px;
            margin: auto;
            padding: 30px 32px 50px;
        }

        h2 {
            margin-bottom: 24px;
            font-size: 24px;
            font-weight: 900;
            color: #1e1b4b;
        }



        .dashboard-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .dashboard-card {
            padding: 22px;
            border-radius: 20px;
            text-align: center;
            font-weight: 800;
            box-shadow: 0 10px 24px rgba(0,0,0,0.12);
        }

        .dashboard-card h3 {
            margin: 0;
            font-size: 30px;
        }

        .dashboard-card span {
            display: block;
            margin-top: 6px;
            font-size: 14px;
            color: #374151;
        }

        .total { background: #e0e7ff; }
        .completed { background: #dcfce7; }
        .pending { background: #ffe4ef; }
        .today { background: #e6f7ff; }
        .overdue { background: #fee2e2; }
        .priority { background: #ede9fe; }


        .recent-box {
            background: #ffffff;
            padding: 26px;
            border-radius: 24px;
            box-shadow: 0 12px 26px rgba(0,0,0,0.12);
        }

        .recent-box h3 {
            margin-bottom: 6px;
            font-size: 18px;
            font-weight: 900;
            color: #1e1b4b;
        }

        .recent-box p {
            font-size: 13px;
            color: #6b7280;
            margin-top: 0;
            margin-bottom: 14px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            border-radius: 16px;
            overflow: hidden;
        }

        th, td {
            padding: 12px 10px;
            text-align: left;
            font-size: 14px;
            border-bottom: 1px solid #e5e7eb;
        }

        th {
            font-weight: 800;
            color: #374151;
            background: #f9fafb;
        }

        tbody tr {
            transition: background 0.2s ease;
        }

        tbody tr:hover {
            background: #f5f7ff;
        }


        .badge {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 999px;
            font-size: 12px;
            font-weight: 800;
        }

        .badge-status {
            background: #eef2ff;
            color: #4338ca;
        }

        .badge-priority {
            background: #fee2e2;
            color: #991b1b;
        }

        .badge-priority.medium {
            background: #fef9c3;
            color: #92400e;
        }

        .badge-priority.low {
            background: #dcfce7;
            color: #166534;
        }
    </style>
</head>

<body>

<div th:replace="fragments/header :: header"></div>

<main>

    <h2>üìä Dashboard Overview</h2>


    <div class="dashboard-cards">
        <div class="dashboard-card total">
            <h3 th:text="${totalTasks}">0</h3>
            <span>üìå Total Tasks</span>
        </div>

        <div class="dashboard-card completed">
            <h3 th:text="${completedTasks}">0</h3>
            <span>‚úÖ Completed</span>
        </div>

        <div class="dashboard-card pending">
            <h3 th:text="${pendingTasks}">0</h3>
            <span>‚è≥ Pending</span>
        </div>

        <div class="dashboard-card today">
            <h3 th:text="${dueTodayTasks}">0</h3>
            <span>üìÖ Due Today</span>
        </div>

        <div class="dashboard-card overdue">
            <h3 th:text="${overdueTasks}">0</h3>
            <span>‚ö†Ô∏è Overdue</span>
        </div>

        <div class="dashboard-card priority">
            <h3 th:text="${highPriorityTasks}">0</h3>
            <span>üî• High Priority</span>
        </div>
    </div>



    <div class="recent-box">
        <h3>üïí Recent Tasks</h3>
        <p>‚ú® Latest tasks added by you</p>

        <table>
            <thead>
            <tr>
                <th>üìù Title</th>
                <th>üìå Status</th>
                <th>‚≠ê Priority</th>
                <th>üìÜ Due Date</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="task : ${recentTasks}">
                <td th:text="${task.title}"></td>

                <td>
                        <span class="badge badge-status"
                              th:text="${task.status}">
                        </span>
                </td>

                <td>
                        <span class="badge badge-priority"
                              th:classappend="
                                ${task.priority.name() == 'LOW'} ? ' low' :
                                (${task.priority.name() == 'MEDIUM'} ? ' medium' : '')"
                              th:text="${task.priority}">
                        </span>
                </td>

                <td th:text="${task.dueDate}"></td>
            </tr>
            </tbody>
        </table>
    </div>

</main>

<div th:replace="fragments/footer :: footer"></div>

</body>
</html>
